{% extends "dashboard/dashboard.html" %}
{% load static %}
{% block title %}User Dashboard{% endblock title %}
{% block tasks %}   

<div class="bg-white rounded-xl shadow-sm mt-8 p-6 max-w-[1200px] mx-auto">

  <h2 class="text-3xl font-bold text-center mb-10 text-gray-800">
    Force-wise and Rank-wise Personnel
  </h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 justify-items-center">

    <!-- Force-wise Card -->
    <div class="bg-gray-50 p-6 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition w-full max-w-md">
      <h3 class="text-2xl font-bold text-center mb-4 border-b border-gray-300 pb-2">Force Name</h3>

      <!-- Header Row -->
      <div class="flex justify-between text-lg font-semibold text-gray-900 border-b border-gray-300 pb-1 mb-2">
        <span>Name</span>
        <span>Mnp</span>
      </div>

      <!-- Data Rows -->
      <div class="text-lg text-gray-700 divide-y divide-gray-200">
        {% for force in force_summary %}
          <div class="flex justify-between py-2">
            <span>
              {% if force.name %}
                  {% if force.name == "Army" %}ğŸª–
                  {% elif force.name == "Navy" %}âš“
                  {% elif force.name == "Air Force" %}âœˆï¸
                  {% elif force.name == "BGB" %}ğŸ›¡ï¸
                  {% elif force.name == "Police" %}ğŸ‘®
                  {% elif force.name == "Ansar" %}ğŸŸ©
                  {% else %}ğŸ›ï¸{% endif %}
                  {{ force.name }}
              {% else %}
                  Unknown
              {% endif %}
            </span>
            <span>{{ force.count|default:"0" }}</span>
          </div>
        {% empty %}
          <div class="text-center py-4 text-gray-500">No force data available.</div>
        {% endfor %}

        <!-- Total Row -->
        <div class="flex justify-between py-2 font-bold text-gray-900 border-t pt-2">
          <span>Total</span>
          <span>{{ total_force|default:"0" }}</span>
        </div>
      </div>
    </div>
    <!-- Force-wise Card end -->

    <!-- Rank-wise Card -->
    <div class="bg-gray-50 p-6 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition w-full max-w-md">
      <h3 class="text-2xl font-bold text-center mb-4 border-b border-gray-300 pb-2">Manpower of Rank</h3>

      <!-- Header Row -->
      <div class="flex justify-between text-lg font-semibold text-gray-900 border-b border-gray-300 pb-1 mb-2">
        <span>Rank</span>
        <span>Mnp</span>
      </div>

      <!-- Data Rows -->
      <div class="text-lg text-gray-700 divide-y divide-gray-200">
        {% for rank in rank_summary %}
          <div class="flex justify-between py-2">
            <span>
              {% if rank.rank %}
                  {% if rank.rank == 'OFFICER' %}ğŸŸ¨
                  {% elif rank.rank == 'DAD' %}ğŸŸ¥
                  {% elif rank.rank == 'SI' %}ğŸŸ¦
                  {% elif rank.rank == 'ASI' %}ğŸŸª
                  {% elif rank.rank == 'NAYEK' %}ğŸŸ«
                  {% elif rank.rank == 'CONSTABLE' %}ğŸŸ©
                  {% else %}ğŸŸ¦{% endif %}
                  {{ rank.rank }}
              {% else %}
                  Unknown
              {% endif %}
            </span>
            <span>{{ rank.count|default:"0" }}</span>
          </div>
        {% empty %}
          <div class="text-center py-4 text-gray-500">No rank data available.</div>
        {% endfor %}

        <!-- Total Row -->
        <div class="flex justify-between py-2 font-bold text-gray-900 border-t pt-2">
          <span>Total</span>
          <span>{{ total_rank|default:"0" }}</span>
        </div>
      </div>
    </div>
    <!-- Rank-wise Card end -->

  </div>
</div>

{% endblock tasks %}
