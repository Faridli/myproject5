{% extends "dashboard/dashboard.html" %}
{% block title %}Manager Dashboard{% endblock title %}
{% block tasks %}

<div class="bg-white rounded-xl shadow-sm mt-8 p-6 max-w-[1400px] mx-auto">

  <h2 class="text-3xl font-bold text-center mb-10 text-gray-800">
    Company and Rank-wise Summary
  </h2>

  <div class="flex flex-wrap justify-center gap-x-8 gap-y-6">
   
    <div class="bg-gray-50 p-6 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition w-full sm:w-64 md:w-72 lg:w-80">
      <h3 class="text-2xl font-bold text-center mb-4 border-b border-gray-300 pb-2">Force Name</h3>
      <div class="flex justify-between text-lg font-semibold text-gray-900 border-b border-gray-300 pb-1 mb-2">
        <span>Name</span><span>Mnp</span>
      </div>
      <div class="text-lg text-gray-700 divide-y divide-gray-200">
        {% for force in force_summary %}
          <div class="flex justify-between py-2">
            <span>
              {% if force.name == "Army" %}ğŸª–
              {% elif force.name == "Navy" %}âš“
              {% elif force.name == "Air Force" %}âœˆï¸
              {% elif force.name == "BGB" %}ğŸ›¡ï¸
              {% elif force.name == "Police" %}ğŸ‘®
              {% elif force.name == "Ansar" %}ğŸŸ©
              {% else %}ğŸ›ï¸{% endif %}
              {{ force.name }}
            </span>
            <span>{{ force.count }}</span>
          </div>
        {% endfor %}
        <div class="flex justify-between py-2 font-bold border-t pt-2">
          <span>Total</span><span>{{ total_force }}</span>
        </div>
      </div>
    </div>

    <!-- ğŸª– Manpower of Rank Card -->
    <div class="bg-gray-50 p-6 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition w-full sm:w-64 md:w-72 lg:w-80">
      <h3 class="text-2xl font-bold text-center mb-4 border-b border-gray-300 pb-2">Manpower of Rank</h3>
      <table class="w-full text-left text-gray-700 border-collapse">
        <thead>
          <tr class="border-b border-gray-300">
            <th class="py-2 px-1 font-semibold">Rank</th>
            <th class="py-2 px-1 font-semibold">Mnp</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          {% for rank in rank_summary %}
            <tr>
              <td class="py-2 px-2">
                {% if rank.rank == 'OFFICER' %}ğŸŸ¨
                {% elif rank.rank == 'DAD' %}ğŸŸ¥
                {% elif rank.rank == 'SI' %}ğŸŸ¦
                {% elif rank.rank == 'ASI' %}ğŸŸª
                {% elif rank.rank == 'NAYEK' %}ğŸŸ«
                {% elif rank.rank == 'CONSTABLE' %}ğŸŸ©
                {% else %}ğŸŸ¦{% endif %}
                {{ rank.rank }}
              </td>
              <td class="py-2 px-2 text-right">{{ rank.count }}</td>
            </tr>
          {% endfor %}
          <tr class="font-bold border-t border-gray-300">
            <td class="py-2 px-2">Total</td>
            <td class="py-2 px-2 text-right">{{ total_rank }}</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>

{% endblock tasks %}
